<shared-container>
  <div class="profile-page">
    <!-- Header -->
    <div class="profile-header">
      <div class="header-content">
        <h1 class="title">{{ 'PROFILE.TITLE' | t }}</h1>
        <p class="subtitle">{{ 'PROFILE.SUBTITLE' | t }}</p>
      </div>
      <shared-button
        variant="outline"
        size="sm"
        (click)="goBack()">
        {{ 'COMMON.BACK' | t }}
      </shared-button>
    </div>

    <!-- User Info Card -->
    <shared-card class="profile-card">
      <div class="card-header">
        <h2 class="card-title">{{ 'PROFILE.ACCOUNT_INFO' | t }}</h2>
      </div>

      <div class="info-grid">
        <!-- Email -->
        <div class="info-item">
          <span class="info-label">{{ 'PROFILE.EMAIL' | t }}</span>
          <span class="info-value">{{ userEmail }}</span>
        </div>

        <!-- Full Name -->
        <div class="info-item">
          <span class="info-label">{{ 'PROFILE.FULL_NAME' | t }}</span>
          <span class="info-value">{{ userFullName }}</span>
        </div>

        <!-- Age -->
        <div class="info-item">
          <span class="info-label">{{ 'PROFILE.AGE' | t }}</span>
          <span class="info-value">{{ userAge }} {{ 'PROFILE.YEARS_OLD' | t }}</span>
        </div>

        <!-- Member Since -->
        <div class="info-item">
          <span class="info-label">{{ 'PROFILE.MEMBER_SINCE' | t }}</span>
          <span class="info-value">{{ userJoinedDate }}</span>
        </div>

        <!-- Native Languages -->
        <div class="info-item">
          <span class="info-label">{{ 'PROFILE.NATIVE_LANGUAGES' | t }}</span>
          <span class="info-value">{{ nativeLanguages }}</span>
        </div>

        <!-- Target Languages -->
        <div class="info-item">
          <span class="info-label">{{ 'PROFILE.TARGET_LANGUAGES' | t }}</span>
          <span class="info-value">{{ targetLanguages }}</span>
        </div>
      </div>
    </shared-card>

    <!-- Danger Zone -->
    <shared-card class="danger-zone">
      <div class="card-header">
        <h2 class="card-title danger-title">{{ 'PROFILE.DANGER_ZONE' | t }}</h2>
      </div>

      <!-- Permanent Delete Account -->
      <div class="danger-content danger-content-critical">
        <div class="danger-description">
          <h3 class="danger-subtitle">{{ 'PROFILE.DELETE_ACCOUNT' | t }}</h3>
          <p class="danger-text">{{ 'PROFILE.DELETE_ACCOUNT_WARNING' | t }}</p>
        </div>

        <shared-button
          variant="danger"
          (click)="openDeleteModal()">
          {{ 'PROFILE.DELETE_ACCOUNT_BUTTON' | t }}
        </shared-button>
      </div>
    </shared-card>
  </div>

  <!-- Delete Account Confirmation Modal -->
  @if (showDeleteModal()) {
    <div class="modal-overlay" (click)="closeDeleteModal()">
      <div class="modal-content modal-content-danger" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h2 class="modal-title">{{ 'PROFILE.CONFIRM_DELETE_TITLE' | t }}</h2>
          <button class="modal-close" (click)="closeDeleteModal()">&times;</button>
        </div>

        <div class="modal-body">
          <p class="modal-warning modal-warning-critical">{{ 'PROFILE.CONFIRM_DELETE_MESSAGE' | t }}</p>

          <ul class="modal-list">
            <li>{{ 'PROFILE.DELETE_CONSEQUENCE_1' | t }}</li>
            <li>{{ 'PROFILE.DELETE_CONSEQUENCE_2' | t }}</li>
            <li>{{ 'PROFILE.DELETE_CONSEQUENCE_3' | t }}</li>
            <li>{{ 'PROFILE.DELETE_CONSEQUENCE_4' | t }}</li>
          </ul>

          @if (deleteError()) {
            <div class="error-message">
              {{ (deleteError() || 'PROFILE.DELETE_ACCOUNT_ERROR') | t }}
            </div>
          }
        </div>

        <div class="modal-footer">
          <shared-button
            variant="outline"
            (click)="closeDeleteModal()"
            [disabled]="deleteLoading()">
            {{ 'COMMON.CANCEL' | t }}
          </shared-button>
          <shared-button
            variant="danger"
            (click)="confirmDeleteAccount()"
            [disabled]="deleteLoading()">
            @if (deleteLoading()) {
              {{ 'PROFILE.DELETING' | t }}
            } @else {
              {{ 'PROFILE.CONFIRM_DELETE_BUTTON' | t }}
            }
          </shared-button>
        </div>
      </div>
    </div>
  }
</shared-container>
