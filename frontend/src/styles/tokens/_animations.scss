// ============================================
// DESIGN TOKENS - ANIMATIONS
// ============================================

// Duration tokens (déjà définis, mais centralisés ici)
$duration-instant: 50ms;
$duration-fast: 120ms;
$duration-normal: 200ms;
$duration-slow: 300ms;
$duration-slower: 500ms;

// Easing functions (courbes de Bézier personnalisées)
$ease-in-quad: cubic-bezier(0.55, 0.085, 0.68, 0.53);
$ease-out-quad: cubic-bezier(0.25, 0.46, 0.45, 0.94);
$ease-in-out-quad: cubic-bezier(0.455, 0.03, 0.515, 0.955);
$ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
$ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
$ease-elastic: cubic-bezier(0.68, -0.55, 0.265, 1.55);

// CSS Variables pour animations
:root {
  --duration-instant: #{$duration-instant};
  --duration-fast: #{$duration-fast};
  --duration-normal: #{$duration-normal};
  --duration-slow: #{$duration-slow};
  --duration-slower: #{$duration-slower};

  --ease-in-quad: #{$ease-in-quad};
  --ease-out-quad: #{$ease-out-quad};
  --ease-in-out-quad: #{$ease-in-out-quad};
  --ease-out-back: #{$ease-out-back};
  --ease-out-expo: #{$ease-out-expo};
  --ease-elastic: #{$ease-elastic};
}

// ============================================
// KEYFRAMES - ENTRÉES
// ============================================

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideInUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slideInDown {
  from {
    transform: translateY(-100%);
  }
  to {
    transform: translateY(0);
  }
}

// ============================================
// KEYFRAMES - SORTIES
// ============================================

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes fadeOutUp {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-20px);
  }
}

@keyframes fadeOutDown {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(20px);
  }
}

@keyframes scaleOut {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.9);
  }
}

// ============================================
// KEYFRAMES - ATTENTION / FEEDBACK
// ============================================

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-5px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(5px);
  }
}

@keyframes wiggle {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-5deg);
  }
  75% {
    transform: rotate(5deg);
  }
}

@keyframes heartbeat {
  0%, 100% {
    transform: scale(1);
  }
  10%, 30% {
    transform: scale(1.1);
  }
  20%, 40% {
    transform: scale(1);
  }
}

// ============================================
// KEYFRAMES - LOADING / SPINNERS
// ============================================

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes spinReverse {
  from {
    transform: rotate(360deg);
  }
  to {
    transform: rotate(0deg);
  }
}

@keyframes dotPulse {
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

@keyframes progress {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

// ============================================
// KEYFRAMES - MODALS / OVERLAYS
// ============================================================================

@keyframes backdropFadeIn {
  from {
    opacity: 0;
    backdrop-filter: blur(0);
  }
  to {
    opacity: 1;
    backdrop-filter: blur(4px);
  }
}

@keyframes modalSlideUp {
  from {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes modalSlideDown {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
  }
}

// ============================================
// MIXINS - ANIMATIONS PRÊTES À L'EMPLOI
// ============================================

@mixin animate-fade-in($duration: $duration-normal, $delay: 0s) {
  animation: fadeIn $duration $ease-out-quad $delay both;
}

@mixin animate-fade-in-up($duration: $duration-normal, $delay: 0s) {
  animation: fadeInUp $duration $ease-out-expo $delay both;
}

@mixin animate-fade-in-down($duration: $duration-normal, $delay: 0s) {
  animation: fadeInDown $duration $ease-out-expo $delay both;
}

@mixin animate-scale-in($duration: $duration-normal, $delay: 0s) {
  animation: scaleIn $duration $ease-out-back $delay both;
}

@mixin animate-shake($duration: $duration-slower) {
  animation: shake $duration $ease-in-out-quad;
}

@mixin animate-pulse($duration: 2s) {
  animation: pulse $duration $ease-in-out-quad infinite;
}

@mixin animate-spin($duration: 1s) {
  animation: spin $duration linear infinite;
}

// Staggered animations (pour listes)
@mixin stagger-animation($child-selector, $delay-increment: 50ms, $max-items: 10) {
  @for $i from 1 through $max-items {
    #{$child-selector}:nth-child(#{$i}) {
      animation-delay: #{$delay-increment * ($i - 1)};
    }
  }
}

// Reduced motion support (ACCESSIBILITÉ)
@mixin respect-motion-preference {
  @media (prefers-reduced-motion: reduce) {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

// Appliquer globalement le respect des préférences
* {
  @include respect-motion-preference;
}
